<!DOCTYPE html>
<html lang="ca">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Preus — DJ Posaxa</title>
  <link rel="icon" type="image/png" href="Fotos/ChatGPT Image 20 d’ag. del 2025, 21_45_57.png">
  <link rel="stylesheet" href="assets/css/style.css" />
  <!-- Librerías para Sigma AI -->
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <!-- Emojis JoyPixels -->
  <script src="https://cdn.jsdelivr.net/npm/emoji-toolkit@11.5.0/lib/js/joypixels.min.js"></script>
  <!-- Puter AI -->
  <script src="https://js.puter.com/v2/"></script>
  
  <style>
    /* Animaciones senior avanzadas */
    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
    }
    
    @keyframes glow {
      0%, 100% { filter: drop-shadow(0 0 5px rgba(102, 126, 234, 0.3)); }
      50% { filter: drop-shadow(0 0 20px rgba(102, 126, 234, 0.8)); }
    }
    
    @keyframes slideInUp {
      from { transform: translateY(50px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
    
    @keyframes scaleIn {
      from { transform: scale(0.8); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }
    
    @keyframes fadeInScale {
      from { transform: scale(0.9); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }
    
    @keyframes shimmer {
      0% { transform: translateX(-100%); }
      100% { transform: translateX(100%); }
    }
    
    /* Mejoras en cards */
    .card {
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      animation: slideInUp 0.8s ease-out forwards;
      animation-delay: calc(var(--delay, 0) * 0.1s);
      position: relative;
      overflow: hidden;
    }
    
    .card::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
      transition: left 0.6s;
      z-index: 1;
      pointer-events: none;
    }
    
    .card:hover::before {
      left: 100%;
    }
    
    .card:hover {
      transform: translateY(-8px) scale(1.02);
      box-shadow: 0 20px 40px rgba(0,0,0,0.2);
    }
    
    /* Hero con animación */
    .hero h1 {
      animation: scaleIn 1s ease-out;
      background: linear-gradient(45deg, #4ecdc4, #44a08d);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    
    .hero p {
      animation: slideInUp 1s ease-out 0.3s both;
    }
    
    /* Efectos para formularios */
    iframe {
      animation: fadeInScale 1.2s ease-out 0.5s both;
      border-radius: 15px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
      transition: all 0.3s ease;
    }
    
    iframe:hover {
      transform: scale(1.01);
      box-shadow: 0 15px 40px rgba(0,0,0,0.15);
    }
    
    /* Efectos de texto premium */
    .text {
      animation: slideInUp 1s ease-out forwards;
      animation-delay: calc(var(--text-delay, 0) * 0.15s);
    }
    
    /* Estilos para Sigma AI - Diseño Senior */
    #sigma-logo {
      position: fixed;
      bottom: 30px;
      right: 30px;
      z-index: 1000;
      font-size: 28px;
      font-weight: 700;
      color: #fff;
      cursor: pointer;
      user-select: none;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border: 3px solid rgba(255,255,255,0.1);
      border-radius: 50%;
      width: 70px;
      height: 70px;
      display: flex;
      justify-content: center;
      align-items: center;
      box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3), 0 4px 15px rgba(0,0,0,0.2);
      backdrop-filter: blur(10px);
      font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, sans-serif;
      animation: float 3s ease-in-out infinite;
    }
    
    #sigma-logo:hover {
      transform: scale(1.1) rotate(5deg);
      box-shadow: 0 15px 40px rgba(102, 126, 234, 0.4), 0 8px 25px rgba(0,0,0,0.3);
      background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);
      animation: glow 2s ease-in-out infinite;
    }
    
    #sigma-logo:active {
      transform: scale(0.95);
    }
    
    /* Pulso animado cuando hay actividad */
    #sigma-logo.pulse {
      animation: sigmaPulse 2s infinite;
    }
    
    @keyframes sigmaPulse {
      0% { box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3), 0 4px 15px rgba(0,0,0,0.2), 0 0 0 0 rgba(102, 126, 234, 0.4); }
      50% { box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3), 0 4px 15px rgba(0,0,0,0.2), 0 0 0 20px rgba(102, 126, 234, 0); }
      100% { box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3), 0 4px 15px rgba(0,0,0,0.2), 0 0 0 0 rgba(102, 126, 234, 0); }
    }
    
    /* Chatbox con diseño premium */
    #sigma-chatbox {
      position: fixed;
      bottom: 110px;
      right: 30px;
      width: 380px;
      height: 0;
      overflow: hidden;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 20px;
      display: none;
      flex-direction: column;
      box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15), 0 0 0 1px rgba(255, 255, 255, 0.05);
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      z-index: 999;
      font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, sans-serif;
    }
    
    #sigma-chatbox.open {
      display: flex;
      height: 500px;
      animation: scaleIn 0.4s ease-out;
    }
    
    #sigma-header {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      padding: 16px;
      text-align: center;
      font-weight: 600;
      color: white;
      font-size: 16px;
      border-radius: 20px 20px 0 0;
      position: relative;
    }
    
    #sigma-header::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 1px;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
    }
    
    #sigma-messages {
      flex: 1;
      padding: 20px;
      overflow-y: auto;
      font-size: 14px;
      color: #2c3e50;
      line-height: 1.6;
    }
    
    #sigma-messages::-webkit-scrollbar {
      width: 6px;
    }
    
    #sigma-messages::-webkit-scrollbar-track {
      background: transparent;
    }
    
    #sigma-messages::-webkit-scrollbar-thumb {
      background: rgba(102, 126, 234, 0.3);
      border-radius: 3px;
    }
    
    #sigma-input-box {
      display: flex;
      padding: 16px;
      border-top: 1px solid rgba(0, 0, 0, 0.1);
      background: rgba(255, 255, 255, 0.8);
      border-radius: 0 0 20px 20px;
    }
    
    #sigma-input {
      flex: 1;
      padding: 12px 16px;
      border: 2px solid rgba(102, 126, 234, 0.2);
      border-radius: 25px;
      outline: none;
      background: white;
      color: #2c3e50;
      font-size: 14px;
      transition: all 0.2s ease;
      margin-right: 8px;
    }
    
    #sigma-input:focus {
      border-color: #667eea;
      box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
    }
    
    #sigma-send {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border: none;
      color: white;
      padding: 12px 20px;
      cursor: pointer;
      border-radius: 25px;
      font-weight: 600;
      font-size: 14px;
      transition: all 0.2s ease;
    }
    
    #sigma-send:hover {
      transform: translateY(-1px);
      box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
    }
    
    #sigma-send:active {
      transform: translateY(0);
    }
    
    /* Mensajes con estilo moderno */
    .sigma-message {
      margin-bottom: 16px;
      padding: 12px 16px;
      border-radius: 12px;
      max-width: 85%;
      animation: slideInUp 0.3s ease-out;
    }
    
    .sigma-user-message {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      margin-left: auto;
      text-align: right;
    }
    
    .sigma-ai-message {
      background: rgba(102, 126, 234, 0.1);
      color: #2c3e50;
      border-left: 3px solid #667eea;
    }
    
    /* Emojis más pequeños y bonitos - JoyPixels */
    .joypixels, .emoji {
      height: 18px !important;
      width: 18px !important;
      margin: 0 2px;
      vertical-align: middle;
      display: inline-block;
    }
    
    /* Estilos para logos */
    .brand {
      display: flex;
      align-items: center;
      gap: 12px;
    }
    
    .brand .logo {
      height: 40px;
      width: auto;
      transition: all 0.3s ease;
    }
    
    .brand .logo:hover {
      transform: scale(1.1);
    }
    
    .brand .name {
      font-size: 18px;
      font-weight: 700;
      color: #333;
      transition: all 0.3s ease;
    }
    
    .brand:hover .name {
      color: #667eea;
    }
    
    .sigma-credit {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }
    
    .sigma-logo {
      height: 20px;
      width: auto;
      vertical-align: middle;
      transition: all 0.3s ease;
    }
    
    .sigma-logo:hover {
      transform: scale(1.2);
    }
    
    /* Responsive */
    @media (max-width: 768px) {
      #sigma-chatbox {
        width: calc(100vw - 40px);
        right: 20px;
      }
      
      #sigma-logo {
        right: 20px;
        bottom: 20px;
        width: 60px;
        height: 60px;
        font-size: 24px;
      }
      
      .sigma-credit {
        flex-direction: column;
        gap: 4px;
      }
      
      .brand {
        gap: 8px;
      }
      
      .brand .logo {
        height: 32px;
      }
      
      .brand .name {
        font-size: 16px;
      }
    }
  </style>
</head>
<body>
  <header class="header">
    <div class="header__inner">
      <div class="brand">
        <img src="Fotos/ChatGPT Image 20 d’ag. del 2025, 21_45_57.png" alt="DJ Posaxa" class="logo" />
        <span class="name">DJ Posaxa</span>
      
      </div>
      <nav class="nav">
        <a href="index.html">Inici</a>
        <a href="en-què-em-centro.html">En què em centro</a>
        <a href="per-què-escollir-me.html">Per què escollir-me</a>
        <a href="esdeveniments.html">Esdeveniments</a>
        <a href="opinionse486.html">Opinions</a>
        <a href="preus.html">Preus</a>
        <span class="social">
          <a href="https://www.tiktok.com/@djposaxa" target="_blank" rel="noopener" aria-label="TikTok">
            <img class="icon" src="Fotos/Png tik.png" alt="TikTok"/>
          </a>
          <a href="https://www.instagram.com/dj.posaxa/" target="_blank" rel="noopener" aria-label="Instagram">
            <img class="icon" src="Fotos/pngwing.com.png" alt="Instagram"/>
          </a>
        </span>
      </nav>
    </div>
  </header>

  <section class="hero">
    <h1>Preus</h1>
    <p>Packs orientatius. Sol·licita pressupost per a una proposta a mida.</p>
  </section>

  <main class="container">
    <!-- Text centrat de política de preus -->
    <div class="grid">
      <article class="card reveal" style="grid-column: 1 / -1; text-align:center;">
        <div class="content">
          <h2>Confiança i Transparència en els Preus</h2>
          <p class="text">A la meva experiència com a DJ, he après que cada esdeveniment és únic. És per això que no treballo amb un preu fix, ja que les necessitats de cada celebració poden variar. El nombre d'assistents, el tipus d'esdeveniment i les condicions tècniques són factors clau que influeixen en el servei que ofereixo.</p>
          <p class="text">El que sí que demano, per garantir la millor experiència musical per a tothom, és que l'escenari estigui muntat i que els altaveus estiguin disponibles. Això em permet centrar-me completament en crear l'ambient perfecte amb la música que millor s'ajusti al vostre gust i estil.</p>
          <p class="text">Posa't en contacte amb mi per parlar del teu esdeveniment i trobar junts la millor solució. Em comprometo a oferir-te un servei personalitzat i de qualitat, ajustant-me a les teves necessitats perquè la teva celebració sigui tot un èxit!</p>
          <p class="text">Si vols que formi part del teu esdeveniment, contesta la enquesta!! Parlem dels detalls, planifiquem junts el que necessites i fem que la teva celebració sigui inoblidable. 🌟🎶</p>
        </div>
      </article>
    </div>

    <!-- Formulari (iframe) -->
    <div class="grid" style="margin-top:18px">
      <article class="card reveal" style="grid-column: 1 / -1;">
        <div class="content" style="padding:0;">
          <iframe src="https://docs.google.com/forms/d/e/1FAIpQLSdy5rSokpYTkUZFTkOk1SRvkJaLXGUs8pFtNq9T54NszOIBgQ/viewform?embedded=true" width="100%" height="720" frameborder="0" marginheight="0" marginwidth="0">Carregant…</iframe>
        </div>
      </article>
    </div>
  </main>

  <footer class="footer">
    <div class="footer__inner">
      <span>© <span id="year"></span> DJ Posaxa</span>
      <span class="sigma-credit">Desarollada per: <img src="Fotos/Logo sigma company pequeñopeg.jpeg" alt="Sigma Company" class="sigma-logo" /> Sigma Company</span>
      <span>Granollers · BCN</span>
    </div>
  </footer>

  <!-- Sigma AI Chatbot -->
  <div id="sigma-logo">Σ</div>
  <div id="sigma-chatbox">
    <div id="sigma-header">Σ Sigma AI Beta</div>
    <div id="sigma-messages"></div>
    <div id="sigma-input-box">
      <input type="text" id="sigma-input" placeholder="Escribe un mensaje...">
      <button id="sigma-send">Enviar</button>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function(){
      const y = document.getElementById('year'); if (y) y.textContent = new Date().getFullYear();
      const obs = new IntersectionObserver((entries)=>{ 
        entries.forEach((e, index)=>{ 
          if(e.isIntersecting) {
            e.target.classList.add('is-visible');
            e.target.style.setProperty('--delay', index);
          }
        }); 
      }, {threshold:.12});
      document.querySelectorAll('.reveal').forEach(el=>obs.observe(el));
      
      // Animaciones secuenciales para elementos de texto
      document.querySelectorAll('.text').forEach((el, index) => {
        el.style.setProperty('--text-delay', index);
      });
    });
  </script>

  <!-- Sigma AI JavaScript -->
  <script>
    // Elementos del DOM
    const sigmaLogo = document.getElementById("sigma-logo");
    const sigmaChatbox = document.getElementById("sigma-chatbox");
    const sigmaMessages = document.getElementById("sigma-messages");
    const sigmaInput = document.getElementById("sigma-input");
    const sigmaSend = document.getElementById("sigma-send");
    
    // Toggle abrir/cerrar chat con animación mejorada
    sigmaLogo.addEventListener("click", () => {
      sigmaChatbox.classList.toggle("open");
      sigmaLogo.classList.add("pulse");
      setTimeout(() => sigmaLogo.classList.remove("pulse"), 2000);
    });
    
    // Función para renderizar Markdown + Emojis
    function renderMarkdownWithEmojis(text) {
      try {
        let html = typeof marked !== 'undefined' ? marked.parse(text) : text;
        if (typeof joypixels !== 'undefined') {
          html = joypixels.toImage(html);
        }
        return html;
      } catch (error) {
        console.warn('Error renderizando markdown/emojis:', error);
        return text;
      }
    }
    
    // Añadir mensaje al chat con mejor diseño
    function addSigmaMessage(sender, text, isUser = false) {
      const messageDiv = document.createElement("div");
      messageDiv.className = `sigma-message ${isUser ? 'sigma-user-message' : 'sigma-ai-message'}`;
      
      const content = isUser ? text : renderMarkdownWithEmojis(text);
      messageDiv.innerHTML = isUser ? `<strong>Tú:</strong> ${content}` : `<strong>Sigma AI:</strong> ${content}`;
      
      sigmaMessages.appendChild(messageDiv);
      sigmaMessages.scrollTop = sigmaMessages.scrollHeight;
    }
    
    // Enviar mensaje a Puter AI
    async function sendSigmaMessage() {
      const msg = sigmaInput.value.trim();
      if (!msg) return;
      
      addSigmaMessage("", msg, true);
      sigmaInput.value = "";
      
      const typingDiv = document.createElement("div");
      typingDiv.className = "sigma-message sigma-ai-message";
      typingDiv.innerHTML = "<strong>Sigma AI:</strong> <em>Escribiendo...</em> 💭";
      sigmaMessages.appendChild(typingDiv);
      sigmaMessages.scrollTop = sigmaMessages.scrollHeight;
      
      try {
        if (typeof puter === 'undefined') {
          throw new Error('Puter SDK no está cargado');
        }
        
        const response = await puter.ai.chat(msg, { 
          model: "gpt-4o-mini",
          system_prompt: "Eres Sigma AI, un asistente inteligente especializado en DJ Posaxa. Esta página trata sobre 'Preus' - la política de precios de DJ Posaxa. Explica que no trabaja con precios fijos porque cada evento es único, considera número de asistentes, tipo de evento y condiciones técnicas. Requiere escenario montado y altavoces disponibles. Ofrece servicio personalizado y tiene un formulario de contacto. Responde en español/catalán, usa emojis y ayuda con consultas sobre presupuestos y contratación."
        });
        
        sigmaMessages.removeChild(typingDiv);
        addSigmaMessage("", response);
        
      } catch (error) {
        console.error('Error en Sigma AI:', error);
        sigmaMessages.removeChild(typingDiv);
        addSigmaMessage("", "⚠️ Lo siento, no puedo conectarme en este momento. Intenta de nuevo más tarde. 🤖");
      }
      
      sigmaLogo.classList.add("pulse");
      setTimeout(() => sigmaLogo.classList.remove("pulse"), 1000);
    }
    
    // Event listeners
    sigmaSend.addEventListener("click", sendSigmaMessage);
    sigmaInput.addEventListener("keypress", e => {
      if (e.key === "Enter") {
        e.preventDefault();
        sendSigmaMessage();
      }
    });
    
    // Mensaje de bienvenida contextual
    document.addEventListener('DOMContentLoaded', function() {
      setTimeout(() => {
        addSigmaMessage("", "¡Hola! 💰 Soy Sigma AI. Esta página explica la política de precios de DJ Posaxa. No trabaja con tarifas fijas porque cada evento es único - considera asistentes, tipo de celebración y requisitos técnicos. ¡Puedes llenar el formulario para un presupuesto personalizado! ¿Tienes alguna pregunta sobre contratación o presupuestos? 📋✨");
      }, 1500);
    });
  </script>

</body>
</html>